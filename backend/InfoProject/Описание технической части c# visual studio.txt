–°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–∑—É–∞–ª—å–Ω–æ–π —á–∞—Å—Ç–∏ –ø—Ä–æ–∏–∑–≤–æ–¥—Å–≤—Ç–µ–Ω–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–∏ –ú–í–î
ü§ñ –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤
–≠—Ç–æ—Ç –±–ª–æ–∫ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –ª—é–±–æ–π –Ω–µ–π—Ä–æ—Å–µ—Ç—å—é. –ù–µ —É–¥–∞–ª—è—Ç—å. 
üìå –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
MVD Practice ‚Äî –°–∏—Å—Ç–µ–º–∞ —É—á—ë—Ç–∞ –æ–±—Ä–∞—â–µ–Ω–∏–π –≥—Ä–∞–∂–¥–∞–Ω –≤ –ú–í–î
üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
1
2
3
C:\Users\Artixs\source\repos\
‚îú‚îÄ‚îÄ MvdBackend\          ‚Üê –ë—ç–∫–µ–Ω–¥ –Ω–∞ C# (.NET 8, ASP.NET Core Web API)
‚îî‚îÄ‚îÄ mvd_frontend\        ‚Üê –§—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∞ Flutter Web (Dart)
üîß –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
‚Ä¢	–ë—ç–∫–µ–Ω–¥:
‚Ä¢	–Ø–∑—ã–∫: C#
‚Ä¢	–§—Ä–µ–π–º–≤–æ—Ä–∫: ASP.NET Core 8
‚Ä¢	ORM: Entity Framework Core + Npgsql
‚Ä¢	–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: PostgreSQL 16 + PostGIS
‚Ä¢	–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è: –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç (JWT –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω)
‚Ä¢	–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏: Google Gemini API, Nominatim (OpenStreetMap)
‚Ä¢	GitHub: https://github.com/Attys192/MvdBackend
‚Ä¢	–§—Ä–æ–Ω—Ç–µ–Ω–¥:
‚Ä¢	–Ø–∑—ã–∫: Dart
‚Ä¢	–§—Ä–µ–π–º–≤–æ—Ä–∫: Flutter (Web)
‚Ä¢	–í–µ—Ä—Å–∏—è Flutter: ‚â• 3.22 (Material 3)
‚Ä¢	HTTP-–∫–ª–∏–µ–Ω—Ç: –ø–∞–∫–µ—Ç http: ^0.15.0
‚Ä¢	–ù–∞–≤–∏–≥–∞—Ü–∏—è: go_router
‚Ä¢	–ö–∞—Ä—Ç–∞: flutter_map + latlong2
‚Ä¢	–ì—Ä–∞—Ñ–∏–∫–∏: syncfusion_flutter_charts
‚Ä¢	–•—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏: shared_preferences
üåê –ë–∞–∑–æ–≤—ã–π URL API
1
http://localhost:5029
–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–æ–π dotnet run –≤ –ø–∞–ø–∫–µ MvdBackend.
–í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã –±–µ–∑ —Ç–æ–∫–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞). 
üîê –£—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–∞
‚Ä¢	–õ–æ–≥–∏–Ω: kozlova
‚Ä¢	–ü–∞—Ä–æ–ª—å: operator123
‚Ä¢	–†–æ–ª—å: Operator
‚Ä¢	–§–ò–û: –ö–æ–∑–ª–æ–≤ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä –°–µ—Ä–≥–µ–µ–≤–∏—á
üóÉÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –ë–î
‚Ä¢	CitizenRequests ‚Äî –æ–±—Ä–∞—â–µ–Ω–∏—è –≥—Ä–∞–∂–¥–∞–Ω
‚Ä¢	Citizens ‚Äî –≥—Ä–∞–∂–¥–∞–Ω–µ
‚Ä¢	Employees ‚Äî —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –ú–í–î
‚Ä¢	Categories ‚Äî –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ–±—Ä–∞—â–µ–Ω–∏–π
‚Ä¢	RequestTypes ‚Äî —Ç–∏–ø—ã –æ–±—Ä–∞—â–µ–Ω–∏–π
‚Ä¢	RequestStatuses ‚Äî —Å—Ç–∞—Ç—É—Å—ã
‚Ä¢	Districts ‚Äî —Ä–∞–π–æ–Ω—ã
‚Ä¢	AuditLogs ‚Äî –ª–æ–≥ –∏–∑–º–µ–Ω–µ–Ω–∏–π
üé® –î–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∞
‚Ä¢	–¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞:
‚Ä¢	–û—Å–Ω–æ–≤–Ω–æ–π: #0D47A1 (—Ç–µ–º–Ω–æ-—Å–∏–Ω–∏–π –ú–í–î)
‚Ä¢	–ê–∫—Ü–µ–Ω—Ç: #1565C0
‚Ä¢	–§–æ–Ω: #FFFFFF / #F5F7FA
‚Ä¢	–°—Ç–∏–ª—å: Material 3 (Material You)
‚Ä¢	–¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞: Roboto –∏–ª–∏ Google Sans
‚Ä¢	–ê–Ω–∏–º–∞—Ü–∏–∏: –ø–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã, skeleton-–ª–æ–∞–¥–µ—Ä—ã, micro-interactions
‚ö†Ô∏è –í–∞–∂–Ω–æ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞
1.	–ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JWT ‚Äî –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç.
2.	–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã ‚Äî –∫ http://localhost:5029 (–±–µ–∑ —Ç–æ–∫–µ–Ω–∞).
3.	–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: latitude (Y), longitude (X) ‚Äî —á–∏—Å–ª–∞ —Ç–∏–ø–∞ double?.
4.	AI-–ø–æ–ª—è –≤ CitizenRequestDto: aiCategory, aiPriority, aiSentiment, aiSummary, aiSuggestedAction.
5.	–ù–æ–º–µ—Ä –æ–±—Ä–∞—â–µ–Ω–∏—è ‚Äî —Å—Ç—Ä–æ–∫–∞ –≤–∏–¥–∞ "ABCD123456".
6.	–î–∞—Ç–∞/–≤—Ä–µ–º—è ‚Äî –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO 8601: "2025-10-25T08:30:00Z".
7.	PATCH-–∑–∞–ø—Ä–æ—Å—ã ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç —Ç–æ–ª—å–∫–æ —Ç–µ–ª–æ, –±–µ–∑ id –≤ URL (–æ–Ω —É–∂–µ –≤ –ø—É—Ç–∏).
8.	POST /api/citizenrequests ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 201 Created —Å –ø–æ–ª–Ω—ã–º DTO, –≤–∫–ª—é—á–∞—è requestNumber.

–û–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π —á–∞—Å—Ç–∏ c#
I'll scan the key files (Program, Controllers, Models, DTOs, Services) in parallel to extract routes, models, and behaviors for a precise API and DB spec.

[54 tools called]

### –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
- –ë—ç–∫–µ–Ω–¥ –Ω–∞ ASP.NET Core 8 + EF Core + PostgreSQL (NetTopologySuite –¥–ª—è –≥–µ–æ–¥–∞–Ω–Ω—ã—Ö).
- –î–æ–º–µ–Ω—ã: –æ–±—Ä–∞—â–µ–Ω–∏—è –≥—Ä–∞–∂–¥–∞–Ω, —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏/—Ç–∏–ø—ã/—Å—Ç–∞—Ç—É—Å—ã, —Ä–∞–π–æ–Ω—ã, –ª–æ–≥ –∞—É–¥–∏—Ç–∞, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ —Ä–æ–ª–∏.
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏: –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ (Nominatim OSM), AI-–∞–Ω–∞–ª–∏–∑ –∑–∞—è–≤–ª–µ–Ω–∏–π (Google Gemini).
- –í API –≤–∫–ª—é—á–µ–Ω—ã –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –∞–≥—Ä–µ–≥–∞—Ç—ã (–ø–æ —Ä–∞–π–æ–Ω–∞–º, –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º, –ø–æ–∫—Ä—ã—Ç–∏–µ AI).

### –¶–µ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞—â–µ–Ω–∏–π –≥—Ä–∞–∂–¥–∞–Ω –≤ –ú–í–î.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ AI-–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ–±—Ä–∞—â–µ–Ω–∏–π –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–∞.
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ —Ä–∞–π–æ–Ω–∞–º/–∫–∞—Ç–µ–≥–æ—Ä–∏—è–º, –ø—Ä–∏–æ—Ä–∏—Ç–µ–∑–∞—Ü–∏—è, –∫–∞—Ä—Ç–∞ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤.

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- Operator: –≤–≤–æ–¥ –∏ –ø–µ—Ä–≤–∏—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞—è–≤–ª–µ–Ω–∏–π.
- Manager: –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π, –∫–æ–Ω—Ç—Ä–æ–ª—å —Å—Ç–∞—Ç—É—Å–æ–≤.
- Admin: —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —Ä–æ–ª–∏.
–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ –Ω–µ –≤–Ω–µ–¥—Ä–µ–Ω–∞ (JWT/–∫—É–∫–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç); —Ä–æ–ª–∏ –ø–æ–∫–∞ —Ç–æ–ª—å–∫–æ –≤ –¥–∞–Ω–Ω—ã—Ö.

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –ë—ç–∫–µ–Ω–¥: ASP.NET Core Web API, —Å–ª–æ–∏ Controllers ‚Üí Repositories ‚Üí EF DbContext. –°–µ—Ä–≤–∏—Å—ã: `GeminiService`, `NominatimService`, `AuditService`.
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: PostgreSQL, `geography(point)` –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –æ–±—Ä–∞—â–µ–Ω–∏–π.
- –§—Ä–æ–Ω—Ç–µ–Ω–¥: –Ω–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –æ–∂–∏–¥–∞–µ—Ç—Å—è SPA/–≤–µ–±-–∫–ª–∏–µ–Ω—Ç (Material 3).
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:
  - Nominatim: –≥–µ–æ–∫–æ–¥ –∞–¥—Ä–µ—Å–∞ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞ ‚Üí —à–∏—Ä–æ—Ç–∞/–¥–æ–ª–≥–æ—Ç–∞ + —Ä–∞–π–æ–Ω.
  - Gemini: –∞–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏/–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞/—Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏/—Ä–µ–∑—é–º–µ/–¥–µ–π—Å—Ç–≤–∏–π; –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∞–π–æ–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É (fallback).

### –û–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö API-—ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

1) Auth
- POST /api/auth/employee-login
  - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –õ–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–±–µ–∑ –≤—ã–¥–∞—á–∏ —Ç–æ–∫–µ–Ω–∞).
  - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã (body):
    ```json
    { "Username": "string", "Password": "string" }
    ```
  - –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç:
    ```json
    {
      "id": 1,
      "username": "kozlova",
      "role": "Operator",
      "employee": { "id": 1, "fullName": "–§–∞–º–∏–ª–∏—è –ò–º—è –û—Ç—á–µ—Å—Ç–≤–æ" }
    }
    ```
  - –û—à–∏–±–∫–∞: 401 "–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å", 500 –ø—Ä–∏ —Å–±–æ–µ.
  - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è; —Ç–æ–∫–µ–Ω –Ω–µ –≤—ã–¥–∞–µ—Ç—Å—è.

2) Citizens
- GET /api/citizens
  - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –°–ø–∏—Å–æ–∫ –≥—Ä–∞–∂–¥–∞–Ω.
  - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: –Ω–µ—Ç.
  - –û—Ç–≤–µ—Ç: –º–∞—Å—Å–∏–≤ `Citizen` (Id, LastName, FirstName, Patronymic, Phone).
  - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: –Ω–µ—Ç.
- GET /api/citizens/{id}
- POST /api/citizens
  - Body: –≤–µ—Å—å –æ–±—ä–µ–∫—Ç `Citizen`.
- PUT /api/citizens/{id}
  - Body: `Citizen` (id –≤ URL –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞—Å—Ç—å).
- DELETE /api/citizens/{id}
  - –û—à–∏–±–∫–∏: 404 –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω, 400 –ø—Ä–∏ –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ id (PUT).

3) Employees
- GET /api/employees
- GET /api/employees/{id}
- GET /api/employees/with-requests/{id}
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏ `AcceptedRequests` –∏ `AssignedRequests`.
- GET /api/employees/search?lastName=—Å—Ç—Ä–æ–∫–∞
- POST /api/employees
- PUT /api/employees/{id}
- DELETE /api/employees/{id}
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: –Ω–µ—Ç.

4) Categories
- GET /api/categories
- GET /api/categories/{id}
- GET /api/categories/with-requests/{id}
- POST /api/categories
- PUT /api/categories/{id}
- DELETE /api/categories/{id}
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: –Ω–µ—Ç.

5) RequestTypes
- GET /api/requesttypes
- GET /api/requesttypes/{id}
- GET /api/requesttypes/with-requests/{id}
- POST /api/requesttypes
- PUT /api/requesttypes/{id}
- DELETE /api/requesttypes/{id}
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: –Ω–µ—Ç.

6) RequestStatuses
- GET /api/requeststatuses
- GET /api/requeststatuses/{id}
- GET /api/requeststatuses/with-requests/{id}
- POST /api/requeststatuses
- PUT /api/requeststatuses/{id}
- DELETE /api/requeststatuses/{id}
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: –Ω–µ—Ç.

7) CitizenRequests
- GET /api/citizenrequests?categoryId=&districtId=&statusId=
  - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –°–ø–∏—Å–æ–∫ –æ–±—Ä–∞—â–µ–Ω–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏.
  - –û—Ç–≤–µ—Ç: –º–∞—Å—Å–∏–≤ `CitizenRequestDto`.
  - –ü—Ä–∏–º–µ—Ä —ç–ª–µ–º–µ–Ω—Ç–∞:
    ```json
    {
      "id": 10,
      "citizenId": 1,
      "requestTypeId": 2,
      "categoryId": 3,
      "description": "string",
      "acceptedById": 1,
      "assignedToId": 2,
      "incidentTime": "2025-10-25T08:30:00Z",
      "createdAt": "2025-10-25T08:45:00Z",
      "incidentLocation": "—É–ª. ...",
      "citizenLocation": "—É–ª. ...",
      "requestStatusId": 1,
      "districtId": 5,
      "requestNumber": "ABCD123456",
      "latitude": 55.0,
      "longitude": 82.9,
      "aiCategory": "–ö–∏–±–µ—Ä–ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏—è",
      "aiPriority": "–í—ã—Å–æ–∫–∏–π",
      "aiSummary": "string",
      "aiSuggestedAction": "string",
      "aiSentiment": "–ù–µ–≥–∞—Ç–∏–≤–Ω—ã–π",
      "aiAnalyzedAt": "2025-10-25T08:46:00Z",
      "isAiCorrected": false,
      "finalCategory": "–ö–∏–±–µ—Ä–ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏—è"
    }
    ```
- GET /api/citizenrequests/{id}
  - –û—Ç–≤–µ—Ç: `CitizenRequestDto`.
- GET /api/citizenrequests/citizen/{citizenId}
  - –û—Ç–≤–µ—Ç: –º–∞—Å—Å–∏–≤ `CitizenRequest` (–ø–æ–ª–Ω–∞—è –º–æ–¥–µ–ª—å).
- GET /api/citizenrequests/status/{statusId}
- GET /api/citizenrequests/check/{requestNumber}
  - –û—Ç–≤–µ—Ç:
    ```json
    {
      "number": "ABCD123456",
      "status": 2,
      "createdAt": "2025-10-25T08:45:00Z",
      "category": 3,
      "description": "string"
    }
    ```
- GET /api/citizenrequests/by-number/{requestNumber}
  - –û—Ç–≤–µ—Ç: `CitizenRequestDto` (–ø–æ –Ω–æ–º–µ—Ä—É).
- POST /api/citizenrequests
  - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –°–æ–∑–¥–∞—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ. –í—ã–ø–æ–ª–Ω—è–µ—Ç –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ (Nominatim) –∏ —Ñ–æ–Ω–æ–≤—ã–π AI-–∞–Ω–∞–ª–∏–∑ (Gemini).
  - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã (body):
    ```json
    {
      "citizenId": 1,
      "requestTypeId": 2,
      "categoryId": 3,
      "description": "string",
      "acceptedById": 1,
      "assignedToId": 2,
      "incidentTime": "2025-10-25T08:30:00Z",
      "incidentLocation": "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫, ...",
      "citizenLocation": "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫, ...",
      "requestStatusId": 1
    }
    ```
  - –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (201 Created): `CitizenRequestCreatedDto` —Å `latitude`, `longitude`, `districtId`, `requestNumber`.
  - –û—à–∏–±–∫–∏: 500 –ø—Ä–∏ —Å–±–æ–µ.
- PUT /api/citizenrequests/{id}
  - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –û–±–Ω–æ–≤–∏—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ –∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–ø–∏—Å–∞—Ç—å –∞—É–¥–∏—Ç.
  - Body: `UpdateCitizenRequestDto` (id –≤ URL –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞—Å—Ç—å —Å body.Id).
  - –û—Ç–≤–µ—Ç: 204 No Content; 404/400 –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö.
- DELETE /api/citizenrequests/{id}
  - –õ–æ–≥–∏—Ä—É–µ—Ç —É–¥–∞–ª–µ–Ω–∏–µ –≤ `AuditLogs`.
- PATCH /api/citizenrequests/{id}/status
  - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –æ–±—Ä–∞—â–µ–Ω–∏—è.
  - Body:
    ```json
    { "requestStatusId": 2 }
    ```
  - –£—Å–ø–µ—Ö: `{ "message": "–°—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª—ë–Ω", "requestId": 1 }`
- PATCH /api/citizenrequests/{id}/assign
  - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ù–∞–∑–Ω–∞—á–∏—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è.
  - Body:
    ```json
    { "assignedToId": 3 }
    ```
- PATCH /api/citizenrequests/{id}/reclassify
  - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å AI-–∫–∞—Ç–µ–≥–æ—Ä–∏—é/–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç/—Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ —Ç–µ–∫—É—â–µ–º—É –æ–ø–∏—Å–∞–Ω–∏—é.
  - –û—Ç–≤–µ—Ç: `{ "message": "AI-–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞.", "requestId": 1, "suggestedCategory": "..." }`
- PATCH /api/citizenrequests/{id}/correct-category
  - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ AI-–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.
  - Body: —Å—Ç—Ä–æ–∫–∞ —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π, –Ω–∞–ø—Ä–∏–º–µ—Ä `"–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∏ –ü–î–î"`.
  - –£—Å–ø–µ—Ö: 200 OK.

- POST /api/citizenrequests/analyze
  - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –û–Ω–ª–∞–π–Ω–æ–≤—ã–π AI-–∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ (–±–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è).
  - Body:
    ```json
    { "description": "string" }
    ```
  - –û—Ç–≤–µ—Ç:
    ```json
    {
      "category": "string",
      "summary": "string",
      "sentiment": "string",
      "priority": "string",
      "suggestedAction": "string"
    }
    ```

- POST /api/citizenrequests/generate-response
  - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –≥—Ä–∞–∂–¥–∞–Ω–∏–Ω—É.
  - Body:
    ```json
    { "description": "string" }
    ```
  - –û—Ç–≤–µ—Ç: —Å—Ç—Ä–æ–∫–∞-—Ç–µ–∫—Å—Ç.

- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö –≤—ã—à–µ; —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ –≤–Ω–µ–¥—Ä–µ–Ω–∞.

8) Analytics
- GET /api/analytics/districts
  - –û—Ç–≤–µ—Ç: –º–∞—Å—Å–∏–≤ `DistrictStatsDto`:
    ```json
    { "districtName": "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π", "requestsCount": 12, "averageAiPriorityScore": 2.3 }
    ```
- GET /api/analytics/categories
  - –û—Ç–≤–µ—Ç: –º–∞—Å—Å–∏–≤ `CategoryStatsDto`.
- GET /api/analytics/ai
  - –û—Ç–≤–µ—Ç: `AiStatsDto` —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ –ø–æ–∫—Ä—ã—Ç–∏—è/–∫–æ—Ä—Ä–µ–∫—Ü–∏–∏.
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: –Ω–µ—Ç.

9) Network (—Å–ª—É–∂–µ–±–Ω—ã–π)
- GET /api/network/my-ip
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–π IP —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏.
  - –û—Ç–≤–µ—Ç: `{ "publicIp": "x.x.x.x" }`

### –¢—Ä–µ–±—É–µ—Ç—Å—è –ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- –í –ø—Ä–æ–µ–∫—Ç–µ –Ω–µ—Ç JWT/–∫—É–∫–∏ –∏–ª–∏ Policy/Role-–∞—Ç—Ä–∏–±—É—Ç–æ–≤. `app.UseAuthorization()` –ø–æ–¥–∫–ª—é—á–µ–Ω, –Ω–æ —Å—Ö–µ–º—ã –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã.
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ –º–æ–∂–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ª–æ–≥–∏–Ω–∞ (id, role) –∫–ª–∏–µ–Ω—Ç—Å–∫–∏. –î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤–Ω–µ–¥—Ä–∏—Ç—å JWT –∏ –¥–æ–±–∞–≤–ª—è—Ç—å `Authorization: Bearer <token>`.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–¢–∞–±–ª–∏—Ü—ã –∏ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è (PostgreSQL):
- `Users`
  - Id int PK
  - Username text
  - PasswordHash text
  - EmployeeId int FK ‚Üí Employees.Id
  - RoleId int FK ‚Üí Roles.Id
- `Roles`
  - Id int PK, Name text
- `Employees`
  - Id int PK
  - LastName text, FirstName text, Patronymic text
  - –°–≤—è–∑–∏: 1‚ÄìM –∫ `CitizenRequests` –ø–æ AcceptedById/AssignedToId (Restrict on delete)
- `Citizens`
  - Id int PK
  - LastName, FirstName, Patronymic, Phone text
- `Categories`
  - Id int PK
  - Name text, Description text
  - 1‚ÄìM `CitizenRequests`
- `RequestTypes`
  - Id int PK, Name text
  - 1‚ÄìM `CitizenRequests`
- `RequestStatuses`
  - Id int PK, Name text
  - 1‚ÄìM `CitizenRequests`
- `Districts`
  - Id int PK, Name text, Description text
  - 1‚ÄìM `CitizenRequests`
- `CitizenRequests`
  - Id int PK
  - CitizenId int FK ‚Üí Citizens
  - RequestTypeId int FK ‚Üí RequestTypes
  - CategoryId int FK ‚Üí Categories
  - AcceptedById int FK ‚Üí Employees
  - AssignedToId int FK ‚Üí Employees
  - RequestStatusId int FK ‚Üí RequestStatuses
  - DistrictId int? FK ‚Üí Districts
  - Description text
  - IncidentTime timestamptz
  - CreatedAt timestamptz
  - IncidentLocation text
  - CitizenLocation text
  - RequestNumber text
  - UpdatedAt timestamptz?
  - Location geography(point) null (X=lon, Y=lat)
  - AiCategory text?, AiPriority text?, AiSummary text?, AiSuggestedAction text?, AiSentiment text?, AiAnalyzedAt timestamptz?, IsAiCorrected bool, FinalCategory text?
- `AuditLogs`
  - Id int PK
  - Action text ("CREATE","UPDATE","DELETE","STATUS_CHANGE","AI_CORRECTION")
  - EntityType text (–Ω–∞–ø—Ä–∏–º–µ—Ä, "CitizenRequest")
  - EntityId int
  - OldValues text?, NewValues text?
  - ChangedBy text? (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø–∏—Å–∏)
  - IpAddress text?
  - CreatedAt timestamptz
  - UserId int? FK ‚Üí Users.Id (–∫–∞–∫ –∞–≤—Ç–æ—Ä –¥–µ–π—Å—Ç–≤–∏—è)
  - CitizenRequestId int? FK ‚Üí CitizenRequests.Id

–°–≤—è–∑–∏ (–≤–∞–∂–Ω–æ–µ):
- –£ `CitizenRequest` –≤—Å–µ FK –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã —Å DeleteBehavior.Restrict, –∫—Ä–æ–º–µ `AuditLog.CitizenRequestId` (Cascade).
- –ì–µ–æ–¥–∞–Ω–Ω—ã–µ: `CitizenRequest.Location` —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫ `geography (point)`, –≥–¥–µ point.X = lon, point.Y = lat.
- –°–∏–¥–∏—Ä–æ–≤–∞–Ω–∏–µ (`SeedData`): –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω—ã —Å—Ç–∞—Ç—É—Å—ã, —Ç–∏–ø—ã, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –Ω–µ—Å–∫–æ–ª—å–∫–æ –≥—Ä–∞–∂–¥–∞–Ω, —Ä–∞–π–æ–Ω—ã, —Ä–æ–ª–∏ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏.

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –≤–∏–∑—É–∞–ª—å–Ω–æ–º—É –¥–∏–∑–∞–π–Ω—É –∏ UI/UX (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏)
- –û–±—â–∏–µ:
  - –¢–µ–º–∞—Ç–∏–∫–∞ –ú–í–î: —Ç–µ–º–Ω–æ-—Å–∏–Ω–∏–π/—Å–∏–Ω–∏–π (#0D47A1 / #1565C0), –±–µ–ª—ã–π, —Å–µ—Ä—ã–π; –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å.
  - Material 3: –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞, elevation/shape tokens, –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–µ—Ç–∫–∞.
  - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI: –ø–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—è–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–æ–≤/–∫–∞—Ä—Ç–æ—á–µ–∫, skeleton loading, motion –ø—Ä–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö.
- –≠–∫—Ä–∞–Ω—ã:
  - –í—Ö–æ–¥ (–ª–æ–≥–∏–Ω):
    - –ü–æ–ª—è: username, password; –∫–Ω–æ–ø–∫–∞ –≤—Ö–æ–¥–∞; –ø–æ–∫–∞–∑ —Ä–æ–ª–∏/–§–ò–û –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞.
  - –î—ç—à–±–æ—Ä–¥:
    - KPI –∫–∞—Ä—Ç—ã: –≤—Å–µ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏–π, –¥–æ–ª—è –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö AI, –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ AI.
    - –ì—Ä–∞—Ñ–∏–∫–∏: –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (bar/pie), —Ä–∞–π–æ–Ω—ã (choropleth/heatmap overlay –ø–æ –∫–∞—Ä—Ç–µ), —Ç—Ä–µ–Ω–¥—ã –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º.
  - –ö–∞—Ä—Ç–∞ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤:
    - –û—Å–Ω–æ–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –≥–æ—Ä–æ–¥–∞; –º–∞—Ä–∫–µ—Ä—ã –æ–±—Ä–∞—â–µ–Ω–∏–π (–∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è), —Ü–≤–µ—Ç/–∏–∫–æ–Ω–∫–∞ –ø–æ `AiPriority`/`Category`.
    - –ö–ª–∏–∫–∞–±–µ–ª—å–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞: –Ω–æ–º–µ—Ä, —Å—Ç–∞—Ç—É—Å, –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –≤—Ä–µ–º—è –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞, –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ; –ª–∏–Ω–∫ "–ü–æ–¥—Ä–æ–±–Ω–µ–µ".
    - –§–∏–ª—å—Ç—Ä—ã: —Ä–∞–π–æ–Ω, –∫–∞—Ç–µ–≥–æ—Ä–∏—è, —Å—Ç–∞—Ç—É—Å; –ø–æ–∏—Å–∫ –ø–æ –Ω–æ–º–µ—Ä—É –æ–±—Ä–∞—â–µ–Ω–∏—è.
  - –°–ø–∏—Å–æ–∫ –æ–±—Ä–∞—â–µ–Ω–∏–π:
    - –¢–∞–±–ª–∏—Ü–∞/–∫–∞—Ä—Ç–æ—á–∫–∏ —Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π/—Ñ–∏–ª—å—Ç—Ä–∞–º–∏; –±—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è: –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å, –Ω–∞–∑–Ω–∞—á–∏—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è.
    - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å `RequestNumber`, `Description`, `Status`, `Category`, `District`, `IncidentTime`, `AiPriority`.
  - –î–µ—Ç–∞–ª–∏ –æ–±—Ä–∞—â–µ–Ω–∏—è:
    - –ë–ª–æ–∫–∏: –æ—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è (–º–∏–Ω–∏-–∫–∞—Ä—Ç–∞ —Å –ø–∏–Ω–æ–º), AI-–∞–Ω–∞–ª–∏–∑ (–∫–∞—Ç–µ–≥–æ—Ä–∏—è/—Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å/–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç/—Ä–µ–∑—é–º–µ/—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è), –∏—Å—Ç–æ—Ä–∏—è (–ª–æ–≥ –∞—É–¥–∏—Ç–∞ ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ, –µ—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –≤ –±—É–¥—É—â–µ–º).
    - –î–µ–π—Å—Ç–≤–∏—è: –Ω–∞–∑–Ω–∞—á–∏—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è (PATCH /assign), –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å (PATCH /status), –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å AI (PATCH /reclassify), –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å AI-–∫–∞—Ç–µ–≥–æ—Ä–∏—é (PATCH /correct-category).
  - –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—Ä–∞—â–µ–Ω–∏—è:
    - –§–æ—Ä–º–∞: –≤—ã–±–æ—Ä –≥—Ä–∞–∂–¥–∞–Ω–∏–Ω–∞ (autocomplete), —Ç–∏–ø/–∫–∞—Ç–µ–≥–æ—Ä–∏—è/—Å—Ç–∞—Ç—É—Å, –∞–¥—Ä–µ—Å–∞ (–∏–Ω—Ü–∏–¥–µ–Ω—Ç/–≥—Ä–∞–∂–¥–∞–Ω–∏–Ω), –¥–∞—Ç–∞/–≤—Ä–µ–º—è, –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å/–ø—Ä–∏–Ω—è–≤—à–∏–π, –æ–ø–∏—Å–∞–Ω–∏–µ, –ø—Ä–µ–≤—å—é –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è (–ø–æ—Å–ª–µ –≤–≤–æ–¥–∞ –∞–¥—Ä–µ—Å–∞).
    - –ü—Ä–∏ —Å–∞–±–º–∏—Ç–µ: POST /api/citizenrequests, –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –ø—Ä–∏—Å–≤–æ–µ–Ω–Ω—ã–π `RequestNumber`. AI-–ø–æ–ª—è –ø–æ–¥—Ç—è–Ω—É—Ç—Å—è –ø–æ–∑–∂–µ (—Ñ–æ–Ω–æ–≤–æ).
  - –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏:
    - –°–ø–∏—Å–∫–∏ –∏ CRUD –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π, —Ç–∏–ø–æ–≤, —Å—Ç–∞—Ç—É—Å–æ–≤, —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤.
  - –ê–Ω–∞–ª–∏—Ç–∏–∫–∞:
    - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `/api/analytics/*`: –¥–∏–∞–≥—Ä–∞–º–º—ã, —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –¥–∞—Ç–∞–º (–¥–æ–±–∞–≤–∏—Ç—å –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ, –Ω–∞ –±—ç–∫–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–∞—Å—à–∏—Ä–∏—Ç—å).
- –ê–Ω–∏–º–∞—Ü–∏–∏:
  - –ö–∞—Ä—Ç–æ—á–∫–∏ –∏ —Å–ø–∏—Å–∫–∏ —Å fade/slide.
  - –ú–∞—Ä–∫–µ—Ä—ã –∫–∞—Ä—Ç—ã —Å subtle scale-in.
  - –¢–æ—Å—Ç—ã/—Å–Ω–µ–∫–±–∞—Ä—ã –ø—Ä–∏ –¥–µ–π—Å—Ç–≤–∏—è—Ö (–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ/–∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞/—Å–æ–∑–¥–∞–Ω–∏–µ).
- –ì–µ–æ–¥–∞–Ω–Ω—ã–µ:
  - –ö–∞—Ä—Ç–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫–ª–∞—Å—Ç–µ—Ä–æ–≤, —Ç–µ–ø–ª–æ–≤–æ–π –∫–∞—Ä—Ç—ã –ø–æ `AiPriority`, —Ä–∞—Å–∫—Ä–∞—Å–∫–∞ —Ä–∞–π–æ–Ω–æ–≤.

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
  - –°–µ–π—á–∞—Å: –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç. POST /api/auth/employee-login –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Ä–æ–ª—å –±–µ–∑ —Ç–æ–∫–µ–Ω–∞.
  - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å JWT; —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∑–∞—Ç–µ–º –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `Authorization: Bearer <token>` –Ω–∞ –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã.
- –ì–µ–æ–¥–∞–Ω–Ω—ã–µ
  - –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—Ä–∞—â–µ–Ω–∏—è –±—ç–∫–µ–Ω–¥ –ø—ã—Ç–∞–µ—Ç—Å—è –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å `IncidentLocation` —á–µ—Ä–µ–∑ Nominatim:
    - –í –æ—Ç–≤–µ—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç `latitude`/`longitude` (–µ—Å–ª–∏ —É–¥–∞–ª–æ—Å—å), –∏ –≤–æ–∑–º–æ–∂–Ω—ã–π `districtId`.
  - –í –≤—ã–±–æ—Ä–∫–∞—Ö `CitizenRequestDto` –≤—Å–µ–≥–¥–∞ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç `latitude`/`longitude` (–º–æ–≥—É—Ç –±—ã—Ç—å null).
- –û—Ç–≤–µ—Ç –æ—Ç Gemini API (—á–µ—Ä–µ–∑ —Å–µ—Ä–≤–∏—Å)
  - –§–æ—Ä–º–∞—Ç –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω –≤ `GeminiAnalysisResponse`:
    ```json
    {
      "category": "string",
      "summary": "string",
      "sentiment": "string",
      "priority": "string",
      "suggestedAction": "string"
    }
    ```
  - –í —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ POST /api/citizenrequests —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ–ª—è –≤ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç `finalCategory` = `category`.
- –û—Ç—á—ë—Ç—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
  - –ì–æ—Ç–æ–≤—ã–µ –∞–≥—Ä–µ–≥–∞—Ç—ã:
    - `/api/analytics/districts`: count + —Å—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è –≤ —Å–∫–æ—Ä –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ).
    - `/api/analytics/categories`.
    - `/api/analytics/ai`: –ø–æ–∫—Ä—ã—Ç–∏–µ –∏ –ø—Ä–æ—Ü–µ–Ω—Ç –∫–æ—Ä—Ä–µ–∫—Ü–∏–π.
  - –§—Ä–æ–Ω—Ç–µ–Ω–¥ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –æ—Ç—á—ë—Ç—ã (–¥–∏–∞–≥—Ä–∞–º–º—ã, –∫–∞—Ä—Ç—ã) –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–∏—Ö API.

### –ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

- –õ–æ–≥–∏–Ω:
  ```http
  POST /api/auth/employee-login
  Content-Type: application/json

  { "username": "kozlova", "password": "operator123" }
  ```

- –°–æ–∑–¥–∞—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ:
  ```http
  POST /api/citizenrequests
  Content-Type: application/json

  {
    "citizenId": 1,
    "requestTypeId": 2,
    "categoryId": 3,
    "description": "–û–ø–∏—Å–∞—Ç—å —Å–ª—É—á–∞–π",
    "acceptedById": 1,
    "assignedToId": 2,
    "incidentTime": "2025-10-25T08:30:00Z",
    "incidentLocation": "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫, ...",
    "citizenLocation": "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫, ...",
    "requestStatusId": 1
  }
  ```

- –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å:
  ```http
  PATCH /api/citizenrequests/10/status
  Content-Type: application/json

  { "requestStatusId": 2 }
  ```

- –ù–∞–∑–Ω–∞—á–∏—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è:
  ```http
  PATCH /api/citizenrequests/10/assign
  Content-Type: application/json

  { "assignedToId": 3 }
  ```

- –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å AI:
  ```http
  PATCH /api/citizenrequests/10/reclassify
  ```

- –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å AI-–∫–∞—Ç–µ–≥–æ—Ä–∏—é:
  ```http
  PATCH /api/citizenrequests/10/correct-category
  Content-Type: application/json

  "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∏ –ü–î–î"
  ```

- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (—Ä–∞–π–æ–Ω—ã):
  ```http
  GET /api/analytics/districts
  ```

- –ü–æ–∏—Å–∫ –ø–æ –Ω–æ–º–µ—Ä—É:
  ```http
  GET /api/citizenrequests/by-number/ABCD123456
  ```

–ö–∞—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏
- –í—Å–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ API: `latitude` (Y), `longitude` (X) –∫–∞–∫ —á–∏—Å–ª–∞ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π.
- –ò—Å—Ç–æ—á–Ω–∏–∫: Nominatim; –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ ‚Äî –ø–æ–ø—ã—Ç–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ä–∞–π–æ–Ω —á–µ—Ä–µ–∑ Gemini, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å null.

–°—Ç–∞—Ç—É—Å
- –Ø —Å–æ–±—Ä–∞–ª –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç API –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ë–î, –ø–ª—é—Å UI/UX-–æ—Ä–∏–µ–Ω—Ç–∏—Ä—ã –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–µ—Ç–∞–ª–∏, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ —Å—Ä–∞–∑—É –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —ç–∫—Ä–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã –∏ –ø–∏—Å–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã.

